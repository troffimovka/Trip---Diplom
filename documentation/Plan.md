## План автоматизации тестирования
Необходимо провести автоматизированное тестирование комплексного web-сервиса по покупке тура в "Марракэш".  
Web-сервис предлагает купить тур по определённой цене с помощью двух способов:
* _Обычная оплата по дебетовой карте_
* _Выдача кредита по данным банковской карты_

Переход к способу _"Обычная оплата по дебетовой карте"_ осуществляется после нажатия на кнопку "Купить".  
Переход к способу _"Выдача кредита по данным банковской карты"_ осуществляется после нажатия на кнопку "Купить в кредит".

**Примечание**
_Само приложение не обрабатывает данные по картам, а пересылает их банковским сервисам:_
* _сервису платежей (Payment Gate)_
* _кредитному сервису (Credit Gate)_
---
### Тестовые данные:
Для тестирования предоставлены следующие тестовые данные:
* Банковская карта (далее "карта"), для оплаты с номером "4444 4444 4444 4441", статус "APPROVED"
* Банковская карта (далее "карта"), для оплаты с номером "4444 4444 4444 4442", статус "DECLINED"
---
### Валидные значения формы оплаты:
Валидными значениями формы оплаты являются:
* Поле "Номер карты": 16 символов, только цифры;
* Поле "Месяц": 2 символа, только цифры от 1 до 12 (если указывается число от 1 до 9, то перед ним, необходимо добавить ноль - "01" );
* Поле "Год": 2 символа, только цифры. Значение не должно быть меньше значения текущего года;
* Поле "Владелец": только буквы латинского алфавита;
* Поле "CVC/CVV": 3 символа, только цифры.
---
### Перечень автоматизируемых сценариев:

#### 1. Позитивный сценарий для форм "Оплата по карте" и "Кредит по данным карты"

_**1.1.** Корректная загрузка формы "Оплата по карте"._
* нажать на кнопку "Купить"    

Ожидаемый результат: под блоком "Путешествие дня", появилась форма для заполнения с заголовком "Оплата по карте".  

_**1.2.** Обычная оплата по дебетовой карте со статусом "APPROVED" и, введенными в форму, валидными значениями:_
* в поле "Номер карты" ввести "4444 4444 4444 4441";
* в поле "Месяц" ввести "08";
* в поле "Год" ввести "25";
* поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице;
* в поле "CVC/CVV" ввести "854";
* нажать на кнопку "Продолжить".

Ожидаемый результат: кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк.." с крутящимся индикатором загрузки. 
В правом верхнем углу появляется всплывающее окно с сообщением "Операция одобрена Банком".

_**1.3.** Обычная оплата по дебетовой карте со статусом "DECLINED" и, введенными в форму, валидными значениями:_
* в поле "Номер карты" ввести "4444 4444 4444 4442";
* в поле "Месяц" ввести "08";
* в поле "Год" ввести "25";
* поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице;
* в поле "CVC/CVV" ввести "854";
* нажать на кнопку "Продолжить".

Ожидаемый результат: кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк.." с крутящимся индикатором загрузки.
В правом верхнем углу появляется всплывающее окно с сообщением "Ошибка! Банк отказал в проведении операции".

_**1.4.** Отображение в СУБД корректной суммы, при оплате по дебетовой карте со статусом "APPROVED" и, введенными в форму,
валидными значениями:_
* в поле "Номер карты" ввести "4444 4444 4444 4441";
* в поле "Месяц" ввести "08";
* в поле "Год" ввести "25";
* поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице;
* в поле "CVC/CVV" ввести "854";
* нажать на кнопку "Продолжить".

Ожидаемый результат: кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк.." с крутящимся индикатором загрузки.
В правом верхнем углу появляется всплывающее окно с сообщением "Операция одобрена Банком".
В таблице СУБД «payment_entity», в столбце «amount», отображается корректная сумма - '45000'

_**1.5.** Корректная загрузка формы "Кредит по данным карты":_
* нажать на кнопку "Купить в кредит"  

Ожидаемый результат: под блоком "Путешествие дня", появилась форма для заполнения с заголовком "Кредит по данным карты".

_**1.6.** Выдача кредита по данным банковской карты со статусом "APPROVED" и, введенными в форму, валидными значениями:_
* в поле "Номер карты" ввести "4444 4444 4444 4441";
* в поле "Месяц" ввести "08";
* в поле "Год" ввести "25";
* поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице;
* в поле "CVC/CVV" ввести "854";
* нажать на кнопку "Продолжить".

Ожидаемый результат: кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк.." с крутящимся индикатором загрузки. 
В правом верхнем углу появляется всплывающее окно с сообщением "Операция одобрена Банком".

_**1.7.** Выдача кредита по данным банковской карты со статусом "DECLINED" и, введенными в форму, валидными значениями:_
* в поле "Номер карты" ввести "4444 4444 4444 4442";
* в поле "Месяц" ввести "08";
* в поле "Год" ввести "25";
* поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице;
* в поле "CVC/CVV" ввести "854";
* нажать на кнопку "Продолжить".

Ожидаемый результат: кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк.." с крутящимся индикатором загрузки.
В правом верхнем углу появляется всплывающее окно с сообщением "Ошибка! Банк отказал в проведении операции".

---

### 2. Негативный сценарий для форм "Оплата по карте" и "Кредит по данным карты"

_**2.1.** Обычная оплата по дебетовой карте с невалидным номером карты:_
* в поле "Номер карты" ввести "3333 3333 3333 2222";
* в поле "Месяц" ввести "08";
* в поле "Год" ввести "25";
* поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице;
* в поле "CVC/CVV" ввести "854";
* Нажать на кнопку "Продолжить".

Ожидаемый результат: кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк.." с крутящимся индикатором загрузки.
В правом верхнем углу появляется всплывающее окно с сообщением "Ошибка! Банк отказал в проведении операции".

_**2.2.** Обычная оплата по дебетовой карте со статусом "APPROVED" и  невалидным значением в поле "Месяц":_
* в поле "Номер карты" ввести "4444 4444 4444 4441";
* в поле "Месяц" ввести "99";
* в поле "Год" ввести "25";
* поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице;
* в поле "CVC/CVV" ввести "854";
* Нажать на кнопку "Продолжить".

Ожидаемый результат: под полем "Месяц" появляется сообщение красными буквами "Неверно указан срок действия карты".

_**2.3.** Обычная оплата по дебетовой карте со статусом "APPROVED" и  невалидным значением в поле "Год", которое меньше значения текущего года:_
* в поле "Номер карты" ввести "4444 4444 4444 4441";
* в поле "Месяц" ввести "08";
* в поле "Год" ввести "10";
* поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице;
* в поле "CVC/CVV" ввести "854";
* Нажать на кнопку "Продолжить".

Ожидаемый результат: под полем "Год" появляется сообщение красными буквами "Истёк срок действия карты".

_**2.4.** Обычная оплата по дебетовой карте со статусом "APPROVED" и  невалидным значением в поле "Год", которое не может быть сроком действия карты:_
* в поле "Номер карты" ввести "4444 4444 4444 4441";
* в поле "Месяц" ввести "08";
* в поле "Год" ввести "99";
* поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице;
* в поле "CVC/CVV" ввести "854";
* Нажать на кнопку "Продолжить".

Ожидаемый результат: под полем "Год" появляется сообщение красными буквами "Неверно указан срок действия карты".

_**2.5.** Обычная оплата по дебетовой карте со статусом "APPROVED" и  невалидным значением в поле "Владелец":_
* в поле "Номер карты" ввести "4444 4444 4444 4441";
* в поле "Месяц" ввести "08";
* в поле "Год" ввести "25";
* поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на кириллице;
* в поле "CVC/CVV" ввести "854";
* Нажать на кнопку "Продолжить".

Ожидаемый результат: под полем "Владелец" появляется сообщение «Неверный формат». 
Кнопка "Продолжить" не меняется на кнопку "Отправляем запрос в Банк.." с крутящимся индикатором загрузки. Отправка формы не выполняется.

_**2.6.** Отправка пустой формы "Оплата по карте":_
* Нажать на кнопку "Продолжить".

Ожидаемый результат: под полями "Номер карты", "Месяц", "Год", "CVC/CVV", появляется сообщение красными буквами "Неверный формат". Под полем "Владелец" - "Поле обязательно для заполнения". Форма не отправлена.

_**2.7.** Заполнение полей формы "Оплата по карте" валидными значениями после отправки пустой формы:_
* Нажать на кнопку "Продолжить".
* в поле "Номер карты" ввести "4444 4444 4444 4441";
* в поле "Месяц" ввести "08";
* в поле "Год" ввести "25";
* поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице;
* в поле "CVC/CVV" ввести "854";
* Нажать на кнопку "Продолжить".

Ожидаемый результат: 
1. После нажатия на кнопку "Продолжить", для отправки пустой формы, форма не отправилась. Под полями "Номер карты", "Месяц", "Год", "CVC/CVV", появляется сообщение красными буквами "Неверный формат»
Под полем "Владелец" - "Поле обязательно для заполнения».
2. После корректного заполнения полей, кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк.." с крутящимся индикатором загрузки. Форма отправлена. В правом верхнем углу появляется всплывающее окно с сообщением "Операция одобрена Банком". Всплывающие окна с параметром «visible».
3. Сообщения (красным цветом), о некорректном заполнении всех полей или отсутствии данных в некоторых полях формы, не появляются.


_**2.8.** Заполнение полей формы "Оплата по карте" невалидными значениями:_
* в поле "Номер карты" ввести "3333 5555 5555 2222";
* в поле "Месяц" ввести "80";
* в поле "Год" ввести "99";
* поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на кириллице;
* в поле "CVC/CVV" ввести "66";
* Нажать на кнопку "Продолжить".

Ожидаемый результат: под полями "Номер карты", "Месяц", "Год", "Владелец", "CVC/CVV", появляется сообщение красными буквами "Неверный формат".

_**2.9.** Выдача кредита по данным банковской карты с невалидным номером карты:_
* в поле "Номер карты" ввести "3333 3333 3333 2222";
* в поле "Месяц" ввести "08";
* в поле "Год" ввести "25";
* поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице;
* в поле "CVC/CVV" ввести "854";
* Нажать на кнопку "Продолжить".

Ожидаемый результат: кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк.." с крутящимся индикатором загрузки.
В правом верхнем углу появляется всплывающее окно с сообщением "Ошибка! Банк отказал в проведении операции".

_**2.10.** Выдача кредита по данным банковской карты со статусом "APPROVED" и  невалидным значением в поле "Месяц":_
* в поле "Номер карты" ввести "4444 4444 4444 4441";
* в поле "Месяц" ввести "99";
* в поле "Год" ввести "25";
* поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице;
* в поле "CVC/CVV" ввести "854";
* Нажать на кнопку "Продолжить".

Ожидаемый результат: под полем "Месяц" появляется сообщение красными буквами "Неверно указан срок действия карты".

_**2.11.** Выдача кредита по данным банковской карты со статусом "APPROVED" и  невалидным значением в поле "Год", которое меньше значения текущего года:_
* в поле "Номер карты" ввести "4444 4444 4444 4441";
* в поле "Месяц" ввести "08";
* в поле "Год" ввести "10";
* поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице;
* в поле "CVC/CVV" ввести "854";
* Нажать на кнопку "Продолжить".

Ожидаемый результат: под полем "Год" появляется сообщение красными буквами "Истёк срок действия карты".

_**2.12.** Выдача кредита по данным банковской карты со статусом "APPROVED" и  невалидным значением в поле "Год", которое не может быть сроком действия карты:_
* в поле "Номер карты" ввести "4444 4444 4444 4441";
* в поле "Месяц" ввести "08";
* в поле "Год" ввести "99";
* поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице;
* в поле "CVC/CVV" ввести "854";
* Нажать на кнопку "Продолжить".

Ожидаемый результат: под полем "Год" появляется сообщение красными буквами "Неверно указан срок действия карты".

_**2.13.** Выдача кредита по данным банковской карты со статусом "APPROVED" и  невалидным значением в поле "Владелец":_
* в поле "Номер карты" ввести "4444 4444 4444 4441";
* в поле "Месяц" ввести "08";
* в поле "Год" ввести "25";
* поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на кириллице;
* в поле "CVC/CVV" ввести "854";
* Нажать на кнопку "Продолжить".

Ожидаемый результат: под полем "Владелец" красными буквами появляется сообщение красными буквами "Неверный формат".

_**2.14.** Отправка пустой формы «Кредит по данным карты»:_
* Нажать на кнопку "Продолжить".

Ожидаемый результат: под полями "Номер карты", "Месяц", "Год", "CVC/CVV", появляется сообщение красными буквами "Неверный формат". Под полем "Владелец" - "Поле обязательно для заполнения". Форма не отправлена.

_**2.15.** Заполнение полей формы «Кредит по данным карты» валидными значениями после отправки пустой формы:_
* Нажать на кнопку "Продолжить".
* в поле "Номер карты" ввести "4444 4444 4444 4441";
* в поле "Месяц" ввести "08";
* в поле "Год" ввести "25";
* поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице;
* в поле "CVC/CVV" ввести "854";
* Нажать на кнопку "Продолжить".

Ожидаемый результат:
1. После нажатия на кнопку "Продолжить", для отправки пустой формы, форма не отправилась. Под полями "Номер карты", "Месяц", "Год", "CVC/CVV", появляется сообщение красными буквами "Неверный формат»
   Под полем "Владелец" - "Поле обязательно для заполнения».
2. После корректного заполнения полей, кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк.." с крутящимся индикатором загрузки. Форма отправлена. В правом верхнем углу появляется всплывающее окно с сообщением "Операция одобрена Банком". Всплывающие окна с параметром «visible».
3. Сообщения (красным цветом), о некорректном заполнении всех полей или отсутствии данных в некоторых полях формы, не появляются.


_**2.16.** Заполнение полей формы «Кредит по данным карты» невалидными значениями:_
* в поле "Номер карты" ввести "3333 5555 5555 2222";
* в поле "Месяц" ввести "80";
* в поле "Год" ввести "99";
* поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на кириллице;
* в поле "CVC/CVV" ввести "66";
* Нажать на кнопку "Продолжить".

Ожидаемый результат: под полями "Номер карты", "Месяц", "Год", "Владелец", "CVC/CVV", появляется сообщение красными буквами "Неверный формат".


### Перечень используемых инструментов:
*  **IntelliJ IDEA** - интегрированная среда разработки программного обеспечения, в которой будет выполняться написание автоматизированных сценариев;
* **Java (JDK 11)** - объектно-ориентированный язык программирования, на котором будет выполняться написание автоматизированных сценариев;
* **Docker** - программное обеспечение для автоматизации развёртывания и управления приложениями в средах с поддержкой контейнеризации;
* **Gradle** - система автоматической сборки;
* **JUnit5** - библиотека для тестирования программного обеспечения;
* **Lombok** - библиотека генерации кода;
* **Faker** - библиотека генерации данных, с помощью которой, будут созданы данные пользователя (клиента банка);
* **Selenide** - инструмент для тестирования Web-приложений;
* **Allure** - инструмент построения отчетов авто-тестов.
* **Git** - инструмент, позволяющий реализовать распределённую систему контроля версий;
* **GitHub** - сервис онлайн-хостинга репозиториев, обладающий всеми функциями распределённого контроля версий и функциональностью управления исходным кодом.

---

### Перечень и описание возможных рисков при автоматизации:
* Проблемы с подключением и настройкой технической части, окружения и СУБД;
* Всевозможные баги кода и взаимодействия;
* Возможен некорректный запуск симулятора банковских карт.

---

### Интервальная оценка с учётом рисков (в часах):
Интервальная оценка, с учетом рисков, составляет 83 часа.
1. Планирование автоматизации тестирования: 20 часов
2. Автоматизация тестирования: 35 часов
3. Отчетные документы по итогам автоматизированного тестирования: 4 часа
4. Отчетные документы по итогам автоматизации: 24 часа
---

### План сдачи работы:

1. Планирование автоматизации тестирования 01.07.21-06.07.21.
2. Подключение и настройка технической части, СУБД, настройка фреймворков 07.07.21-14.07.21.
3. Непосредственно сама автоматизация (написание автотестов) 15.07.21-23.07.21.
4. Отчеты по итогам автоматизированного тестирования 26.07.21-29.07.21.
